<div class="form-resume-section">
  @for (education of educations().controls; track $index; let i = $index) {
    <div class="card">
      <span
        ><em>education {{ i + 1 }}</em></span
      >
      <div class="form-controls" [formGroupName]="i">
        <div class="form-control">
          <label>Institution:</label>
          <input formControlName="institution" placeholder="Institution Name" />

          <div class="error-message" aria-live="assertive">
            @if (
              institutionControl(i).invalid &&
              institutionControl(i).dirty &&
              institutionControl(i).errors?.["required"]
            ) {
              Institution is required
            }
          </div>
        </div>
        <div class="form-control">
          <label>Date Range:</label>
          <input
            formControlName="dateRange"
            placeholder="Date Range (2011-2021)"
          />

          <div class="error-message" aria-live="assertive">
            @if (
              dateRangeControl(i).invalid &&
              dateRangeControl(i).dirty &&
              dateRangeControl(i).errors?.["required"]
            ) {
              Date Range is required
            }
          </div>
        </div>
        <div class="form-control">
          <label>Location:</label>
          <input formControlName="location" placeholder="Location Name" />

          <div class="error-message" aria-live="assertive">
            @if (
              locationControl(i).invalid &&
              locationControl(i).dirty &&
              locationControl(i).errors?.["required"]
            ) {
              Location is required
            }
          </div>
        </div>
        <app-create-education-notes
          formArrayName="notes"
          [notes]="notesArray(i)" />
      </div>
    </div>
  }

    <button type="button" (click)="addEducation()">
      <span class="material-symbols-outlined"> add_circle </span>
      Add Education
    </button>
</div>
