rules_version='2'

service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read: if true;

      // Deny writes if the document has a locked resumeId
      allow write: if !(
        ('resumeId' in resource.data && resource.data.resumeId == "tgXFUSgAJWE0xWWzMxx6")
        ||
        ('resumeId' in request.resource.data && request.resource.data.resumeId == "tgXFUSgAJWE0xWWzMxx6")
      );
    }
  }
}
